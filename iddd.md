# IDDD (Implementing domain-driven design) 도메인 주도 개발 설계 구현


## 1. DDD를 시작하며

도메인 전문가는 직책이 아니다. 비즈니스 도메인에 대해 배경지식을 많이 갖고 있는 디자이너거나 영업 인력일 수도 있다. 개발자는 듣을 줄 아는 능력이 필요하다.

도메인 모델이란 구체적인 비즈니스 도메인에 관한 소프트웨어 모델이다. 객체 모델로 종종 구현되는데, 의미를 정확히 부합하는 이름과 데이터, 행동을 담고있다.

DDD 는 비즈니스 전문가 (도메인 전문가) 와 개발자간의 심적 모델을 반영해 개발할 수 있게 해준다. 함께 유비쿼터스 언어를 비즈니스 영역에 적용하며 개발하는 데 힘 쓴다. 초기 비용이 많이들지만 잘 짜여진 팀을 만들고 이는 더욱 팀을 강하게 한다. 비즈니스의 이니셔티브를 다룬다. 기술 분석이 전혀 관련없을 수 없지만 비즈니스의 전략적 설계와 더 가깝다.

* 복잡화하지말고 단순화하자* 이 것이 중요하다. 무기력증으로 인한 기억력 상실 (anemia-induced memory loss) 증상을 겪기 쉽상이다.

수정도, 저장도 맡고 있는 인터페이스를 예로 들어보자. 어떤 값이 변해서 이 인터페이스에 들어왔는지, 수정을 위해서인지 저장을 위해서인지 인터페이스를 통해 알 수 있는 의도가 거의 없다. 이 인터페이스에서 어떤 값이 변했을 때에 대한 조건이 점점 늘어난다면, 복잡도만 점점 늘어날 것이다. 그리고 무엇보다 해당 객체(수정 및 저장 대상)가 사실 전혀 객체가 아니다. 단순 데이터 홀더 정도라고 볼 수 있다.

이는 하나의 메서드(인터페이스) 에서 많은 유즈케이스 플로우나 사용자 스토리를 처리한다. 하나의 ㅐ플리케이션 서비스 메소드가 하나의 유즈케이스만을 위해서 구현되면 어떨까 ?

더 정교하고, 정확하게 비즈니스를 정희하고 이해할 수 있지 않은가? 
더 유요한 도메인 모델을 얻을 수 있지 않은가?

모델 객체를 위해 데이터 접근자만을 노출 시킨다면 그 결과는 단순한 데이터 모델에 가깝게 된다. 데이터 관점의 설계, 게터 및 세터의 무분별한 사용은 도메인 모델을 해친다. 아니, 전혀 도메인 모델이 아니다. 이는 전적으로 클라이언트가 사용방법을 알고 있는지에 달려있다. (유즈케이스가 명확하지 않기때문) 정확한 값을 데이터 모델에 매핑하기 위해 분석을 해야한다. 도메인 비즈니스 가치가 하나도 없다. 그리고 본인도 모르는 사이 너무 많은 선택가능한 옵션을 만들게 된다.

---

## 2. 도메인, 서브도메인, 바운디드 컨텍스트

도메인은 비즈니스의 전체도메인을 말할 수도 있고, 한가지 핵심부분이나 다른 지원분야일 수도 있다. 도메인 모델이란 용어도 도메인이란 용어가 들어있으니 조직의 전체 비즈니스 도메인을 위한 모델이라고 생각할 수 있지만, DDD 에서의 도메인 모델은 오히려 그 반대이다. 조직의 전체 비즈니스 도메인은 여러 서브 도메인으로 이루어져있다. 모델은 바운디드 컨텍스트 안에서 만들어진다. 이 서브도메인은 고유의 핵심 도메인의 일부가 아닌, 일련의 알고리즘과 같은 간단한 형태일 수도 있다.

바운디드 컨텍스트는 주로 유비쿼터스 언어와 그에 해당하는 도메인 모델을 캡슐화한다. ( 도메인 모델과 상호작용, 도메인 모델의 지원을 위해 존재하는 다른 요소도 포함한다. )
모듈, 애그리게잇, 이벤트, 서비스 등 충분할 만큼 포함할 정도로 커야 함.

DDD 에 익숙하지 않은 개발자(나와 같은) 기준에선, 프로젝트 하나의 단위라고 생각하면 좋을 것 같다.
presentation, application, domain(model), infrastructure 의 한 모듈이 하나의 바운디드 컨텍스트, 하나의 팀이 작업해야하는 단위인 것이다.
