# 대세는 쿠버네티스 인프런

컨테이너 가상화기술은 서비스간 자원격리를 하는데 OS 를 별도로 안띄워도 된다, 이 OS 기동시간이 없어서 자동화시에 빠르고 자원효율이 매우 높다

도커가 유명세를 탔다. 하나의 서비스는 괜찮지만, 많은 서비스를 일일이 배포하고 운영하는 게 힘들었다. (이런걸 하는 게 오케스트레이터)
rancher, docker swarm, 쿠버네티스 등도 여기 포함 됨

쿠버네티스가 곧 표준이 된 것 처럼 대세가 되어 google, aws, azure 등에서 대응

--- 

## vm

- host os 위에 hypervisor 위에 별도의 os 를 다시 띄우는 개념

- 서비스 확장시 guest os 를 추가로 띄워야함 (여기 안에 서비스, 모듈이 있으니)

## container

- host os 위에 os 에서 제공하는 자원격리기술을 통해서 컨테이너란 단위로 서비스를 분리할 수 있음
  - namspace (kernel 에 관련 된 영역)
  - cgroups (자원에 관한 영역)

- k8s 는 pod 라는 배포 단위마다 확장가능 (컨테이너별 확장 가능)

---

Pod는 애플리케이션의 실행을 담당하고, Service는 네트워크 서비스를 제공합니다.

## Pod

- Kubernetes의 기본 실행 단위. 하나 이상의 컨테이너로 구성되어 애플리케이션의 프로세스를 실행합니다.
- 동일한 호스트에서 실행되며, 공유 네트워크 네임스페이스와 볼륨을 사용하여 컨테이너 간에 통신과 데이터 공유를 할 수 있습니다.
- 관련 컨테이너들이 함께 작동해야하는 경우에 사용됩니다. 예를 들어, 웹 서버와 데이터베이스 서버가 동일한 Pod에서 실행될 수 있습니다.

## Service

- Kubernetes 클러스터 내부 및 외부에 있는 Pod에 대한 네트워크 서비스를 제공하는 추상화입니다.
- Pod에 대한 로드 밸런싱, 서비스 디스커버리, DNS 이름을 제공하고, 네트워크 주소가 변경되어도 클라이언트가 Pod에 접근할 수 있도록 합니다.
- 여러 Pod 인스턴스를 단일 가상 IP 주소로 그룹화하고, Pod 집합에 대한 네트워크 트래픽을 분산시키는 로드 밸런서 역할을 수행합니다.
  - 웹 애플리케이션을 실행하는 여러 Pod가 있을 때, Service를 사용하여 웹 트래픽을 Pod 그룹으로 분산시킬 수 있습니다.

---

overview

![k8s](../resources/k8s/k8s.png)

- Cluster
  - Kubernetes 시스템의 전체적인 인프라스트럭처입니다.
  - 노드(node)라고 불리는 여러 개의 컴퓨터(호스트)로 구성되어 있으며, 이러한 노드는 애플리케이션을 실행하고 관리하는데 사용됩니다.
  - 마스터 노드(master node)와 워커 노드(worker node)로 구성됩니다. 마스터 노드는 클러스터의 제어 플레인(control plane)을 관리하고, 워커 노드는 실제 애플리케이션 실행을 처리합니다.

- Namespace:
  - 클러스터 내의 가상적인 분리된 환경을 제공하는 방법입니다.
  - 각각의 Namespace는 클러스터 안에서 리소스의 범위를 제한하는 논리적인 경계를 형성합니다.
  - 클러스터 안에서 리소스의 이름 충돌을 방지하고, 여러 사용자 또는 팀이 동시에 사용하는 경우 리소스를 구분하는 데 도움이 됩니다.
  - Pod, Service, ReplicaSet, Deployment 등과 같은 Kubernetes 리소스를 그룹화하고 구성하는 데 사용됩니다.
    - 여러개의 서비스 (당연히 pod 도) 를 가질 수 있음
  - 기본적으로 Kubernetes 클러스터는 "default"라는 기본 Namespace를 가지고 있으며, 사용자는 필요에 따라 추가적인 Namespace를 생성할 수 있습니다.


- 클러스터는 Kubernetes의 전체 인프라스트럭처를 나타내는 개념입니다.
- Namespace는 클러스터 내에서 리소스를 그룹화하고 분리하는 논리적인 단위입니다.
- 클러스터 안에는 하나 이상의 Namespace가 존재할 수 있으며, 각 Namespace는 독립적으로 운영될 수 있습니다.
- 동일한 클러스터 내에서 서로 다른 Namespace에 속한 리소스는 서로 분리되어 있으며, **한 Namespace의 리소스는 다른 Namespace에서 직접 접근할 수 없습니다.**
- Namespace는 다른 Namespace 간에 리소스 공유를 위한 방법을 제공할 수도 있습니다. **예를 들어, 하나의 Namespace에서 생성된 Service는 같은 클러스터 내의 다른 Namespace에서 접근할 수 있습니다.**

